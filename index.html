<!DOCTYPE HTML>
<html lang="cn">
<head>
    <meta charset="utf-8">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <title>lc</title>
    <script type="text/javascript">
        var socket;
        $(function(){
            if ("WebSocket" in window)
            {
                var ws = new WebSocket("ws://192.168.251.121:9999/lc");
                socket = ws;
                ws.onopen = function(){
                    ws.send("已上线");
                }
                ws.onmessage = function (evt)
                {
                    var received_msg = evt.data;
                };
                ws.onclose = function()
                {
                    alert("连接已关闭...");
                };
            }
            else
            {
                // 浏览器不支持 WebSocket
                alert("浏览器不支持 WebSocket!");
            }
        });

        function SendMessage(){
           var message = document.getElementsByName("message");
           socket.send(message);
        }
    </script>

</head>
<body>

<div id="sse">
    <a href="javascript:WebSocketTest()">运行 WebSocket</a>

    message: <label>
        <input name="message" type="text"/>
    </label>
    <button onclick="SendMessage()">发送消息</button>


</div>

</body>
</html>